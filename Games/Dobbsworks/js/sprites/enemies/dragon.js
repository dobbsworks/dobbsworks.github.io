"use strict";
// 1.11.2;32;0;0;0;0;0|#3d2828,#a38475,0.00,0.95,0.55;AA,#ffffff,-0.25,0,0.05,0,0,0;AI,#1818e5,0,0,0.1,0,1,0;AB,#5959a5,0,0,0.2,-1,1,0;Ah,#386178,0,0,0.3,-3,1,0;#1f345fcc;#5f23b8cc;#cf2f17ff|AAdAFBAAdAFBAAAAKFAAWAFBAAAAKFAARACEAFBAAAAKFAAWAFBAKLAARAFBAKLAARAFBAKLAARAFBAKLAARAFBAKLAARAFAAAAAKLAARAFAAAAAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAAUAKKAAUAKKAAUAKKAAUAKKAAZAKEAAaAKEAAaAKEAAaAKEAAaAKEAAaAKEAAaAKEAAaAKEAAaAKEAAaAKEAAaAKEAAbAKCAAZAKEAAYAKDAA/AA/AAgAKDAAbAKDAAbAKDAAbAKDAAbAKDAAbAKDAA/AA/AAcAKBAAdAKBAAdAKBAAdAKBAAdAKBAAPAKAAA+AKAAAJAKEAARAKAAAHAKEAAvAKAAAgAKAAAZAKAAABAKAAAaAKBAACAKBAAYAKAAACAKBAAdAKDAACAKAAAXAKDAACAKAAAXAKDAACAKBAAQAKLAAAAKDAAOAKLAACAKEAALAKVAAJAKVAAJAKVAAJAKVAAJAKVAAJAKWAAIAKWAAIAKWAAIAKWAAIAKWAAIAKLAAEAKCAALAKLAADAKHAAHAKLAADAKHAAHAKLAAAAKKAAHAKLAAAAKFAACAKBAAHAKLAAAAKFAACAKBAAHAKXAAHAKXAAHAKXAAHAKXAAHAKXAAHAKVAAKAKEAAFAKJAAKAKEAAFAKLAAIAKEAAFAKLAA/AAnAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAAVAKEAAaAKBAAcAKBAAcAKBAAdAKBAAdAKAAAeAKAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAfAKEAAaAKFAAZAKKAAUAKKAATAKLAATAKLAATAKLAATAKLAATAKGAAAAKDAATAKGAAAAKDAATAKLAAYAKEAAaAKEAA/AKBAAdAKBAAdAKBAAcAKBAAdAKBAAdAKCAAbAKDAATAKBAAFAKDAATAKDAADAKDAATAKLAATAKLAATAKLAATAKJAAAAKAAATAKJAAAAKAAATAKIAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAuAKGAAYAKTAALAKTAALAKTAALAKFAAZAKCAAIAKFAATAKLAATAKLAATAKLAATAKLAAXAKHAAXAKHAAXAKHAAFAKHAAKAKGAAFAKHAAKAKGAAFAKHAAKAKGAAFAKHAAKAKGAABAKLAAKAKGAABAKFAAZAKGAAYAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAAVAKJAAVAKJAAVAKJAAUAKKAAUAKKAATAKLAATAKLAATAKLAAUAKKAA/AA/AA/AA/AA/AA/AA/AA9AKIAAWAKMAAaAKIAAEAKLAAIAKHAACAKLAAKAKFAACAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAATAKLAAHAKJAABAKMAAGAKJAABAKMAAGAKJAABAKMAAGAKJAABAKMAAGAKJAABAKMAAGAKJAABAKMAAGAKJAABAKMAAGAKJAABAKEAACAKEAAGAKJAABAKCAAGAKCAAGAKDAABAKDAABAKBAAIAKBAASAKAAAKAKAAASAKAAAeAKAAAeAKAAAeAKAAAHAKDAASAKAAAFAKFAAbAKDAAdAKBAASAKCAAcAKFAAZAKDAAbAKBAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAvAKNAARAKNAARAKNAARAKNAARAKNAARAKNAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AABAKJAAVAKJAAVAKJAAVAKJAAVAKJAAVAKJAAVAKJAAVAKJAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA+AKBAAbAKDAAdAKBAA8AKCAAaAKEAAdAKBAASAKDAAbAKCAAcAKEAAEAKCAASAKDAAdAKDAABAKEAATAKDAADAKDAAUAKEAAAAKEAAUAKDAAAAKFAAUAKEAAAAKDAAVAKJAAVAKJAAVAKJAAVAKJAAVAKJAAVAKJAAT|AAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAAbADAABCAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/|FaLAATFaLAATFaCAACFaFAATFaBAADFaFAATFaBAADFaFAATFaAAAEFaFAATFaAAAEFaFAATFaAAAFFaEAATFaAAAFFaEAATFaBAADFaFAATFaBAADFaFAATFaCAACFaFAATFaCAADFaEAATFaCAADFaEAATFaCAADFaEAATFaCAADFaEAATFaDAACFaEAATFaDAACFaEAATFaCAAEFaDAATFaBAAHFaBAATFaBAAHFaBAASFaCAAGFaCAASFaDAAGFaBAARFaEAAGFaBAAQFaFAAGFaBAAPFaHAAFFaBAAPFaKAACFaBAAPFaDAAAFaFAACFaBAAOFaEAACFaDAACFaBAAOFaEAADFaCAACFaBAAOFaEAAEFaBAACFaBAAOFaEAAEFaBAACFaBAAOFaEAAEFaBAACFaBAAOFaEAAEFaBAACFaBAAOFaEAAEFaBAACFaBAAPFaDAAEFaBAACFaBAAPFaDAADFaCAACFaBAAOFaEAABFaEAACFaBAAOFaLAACFaBAAOFaJAADFaCAAPFaGAAFFaCAAPFaDAAIFaCAAPFaDAAIFaCAAPFaDAAHFaDAAPFaDAAFFaFAAPFaDAAEFaGAAPFaBAAGFaCAABFaBAAPFaAAAHFaCAABFaBAAYFaCAABFaBAAYFaCAABFaBAAYFaGAAbFaDAAcFaCAAdFaBAAdFaBAAaFaAAABFaBAAaFaAAABFaBAAaFaAAABFaBAAaFaAAABFaBAAaFaAAABFaBAAMFaAAAPFaBAALFaBAABFaAAAMFaBAALFaBAABFaBAALFaBAALFaBAACFaAAAKFaCAAKFaCAACFaAAAKFaCAAJFaDAACFaAAAKFaCAAIFaEAACFaAAAKFaCAAIFaBAAAFaBAACFaBAAJFaCAAIFaAAABFaBAACFaCAAHFaDAAIFaAAAAFaCAACFaCAAHFaDAAHFaFAACFaDAAGFaDAAHFaFAACFaDAAHFaCAAIFaEAACFaDAAIFaBAAHFaFAACFaDAAIFaBAAHFaDAAEFaFAAGFaBAAHFaCAAFFaGAAACIAFaAAACFaBAAHFaCAAEFaCAAAFaGAACFaBAAHFaCAAEFaAAAMFaBAAHFaCAAEFaAAACFaFAADFaBAAHFaCAAIFaEAAEFaBAAHFaCAAIFaBAAHFaBAAHFaCAAQFaDAAHFaBAAFFaAAAKFaDAAHFaBAAFFaBAAIFaEAAHFaBAAFFaBAABFaCAADFaEAAHFaBAAGFaHAABFaEAAHFaDAAEFaIAAAFaEAAHFaDAAFFaGAACFaDAAHFaDAAFFaDAAFFaDAAHFaAAABFaBAAGFaAAAEFaFAAHFaAAAAFaCAAGFaAAAEFaFAAHFaFAAPFaBAAHFaFAADFaBAAJFaBAAHFaFAADFaBAAKFaAAAHFaDAAEFaCAAKFaAAAHFaBAAEFaEAAJFaBAAHFaBGSAAACFaFAAJFaBAAFFOBFaCAABFaGAAJFaBAAHFaBGUAAACFaFAAKFaAAAHFaCAACFaFAAKFaAAAHFaXAAHFaXAAHFaLAA/AAeFaAAAeFaAAAeFaAAA/AAeFaAAAeFaAAATFaAAAJFaAAATFaBAAIFaAAATFaCAAHFaAAATFaCAAHFaAAATFaBAAGFaCAATFaBAAGFaCAATFaAAAHFaCAAcFaCAAdFaBAAdFaBAAdFaBAAdFaBAAdFaBAAdFaBAASDMAAAJFaBAASDMAAAJFaBAATFaAAAIFaBAATFaBAAHFaBAATFaBAAHFaBAATFaCAAGFaBAATFaCAAFCIAFaBAA/AATFaCAAFCIAFaBAATFaCAAGFaBAARDCAAAAFaAAAIFaBAARFmAFaCAAHFaBAARFnAFaAFJAAAdFmAFJAAAdFnAFaBAAFFaDAATFaBAAFFaDAATFaBAAFFaDAATFaAAAGFaDAA/AATFaAAAGFaDAATFaBAAFFaDAATFaCAAEFaDAATFaCAAEFaDAA/AA/AA/AA/AATFaAAAJFaAAATFaCAAHFaAAATFaDAAGFaAAA/AA/AATFaBAAGFaCAATFaAAAHFaCAATFaAAADFaGAATFaAAADFaGAATFaBAACFaGAATFaCAAFFaCAATFaCAAGFaBAATFaCAADFaAAABFaBAA/AATFaCAAGFaBAATFaCAADFaAAABFaBAATFaDAACFaAAABFaBAATFaHAABFaBAATFaHAABFaBAATFaGAACFaBAATFaFAADFaBAAdFaBAAdFaBAAdFaBAAcFaCAAcFaCAAcFaCAAbFaDAAbFaDAAbFaDAAbFaDAAbFaDAAbFaDAAbFaDAATFaCAAEFaDAATFaLAATFaLAATFaLAA/AA/AA/AA/AA/AA/AA/AA/AA/AAKG2AAAEG2AAA/AA/AANFadAAeFaCAAcFaCAA/AA8FaCAAcFaCAAcFaCAAcFaDAAbFaEAAaFaEAATG7GFaFAAZFaIAAFFaJAAGFaLAACFaMAADFaGAAHFaXAAHFaXAAHFaWAAIFa1FbAFaLAAQFaDAAFFaEAAQDVFAAEFaDAAbFaBFbAFaAAAQFaCAAHFaDAAQFaEAAEFaDG2AAADG2AAALFaCFbAAAEFaFAAQFaHAAAFaFAAQFaAFbAFaFAAAFaCFbAFaBAAQFaCDVCAACFaFAAQFaBFbAFaBAAEFaCFbAFaAAAQFaGAACFaEAAQFaFAADFaEAAaFaBFbAFaBAAQDVGAACFaEAAQFaGAACFaEAAQFaEFbAFaBAACFaAFbAFaBAAQFaBFbAFarAA/AANFaAAAeFaAAAeFaBAAdFaCAAcFaCAAcFaCAAcFaCAAcFaCAAcFaCAAcFaCAAcFaCAAcFaCAAcFaCAAcFaCAAHGZAFaIAAKFaDGvAAAFGZAFaLAAHFaDGvAAAFGZAFaNAAFFaDGvAAAFGZAFaCAAAFaTGvAAAGGZAFaBAAAFaTGvAAAHGZAFaAAATFaAGvAAAHGZAFaAAATFaAGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaMGvAAAHGZAFaAAAHFaLGvAAAIGZAFaAAAHFaLGvAAAIGZAFaAAAHFaLGvAAAIGZAFaAAAHFaLGvAAAIGZAFaAAAHFaLGvAAAIGZAFaAAAHFaLGvAAAKGZAAAGFaDAACFaEGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAGFaDGvAAAKGZAAAGFaAAAHFaCGvAAAKGZAAAPFaCGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAHAfAAAAAfBAAQFaBGvAAAGAfBBUAAfABUAAAQFaBGvAAAKAfAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBAfDAABAfAAAEGZAAAQFaBGvAAABAfCAAFGZAAAQFaBAfCAABAfAAAFGZAAAQFaBGvAAfAAADAfAAAEGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAQFaBGvAAAKGZAAAPFaCGvAAAKGZAAAPFaCGvAAAKGZAAAPFaCGvAAAKGZAAAPFaCGvAAAKGZAAAPFaCGvAAAHAfAAAAAfBAAPFaCAfBAAHAfAAAAGZAAAOFaDGvAAAHAfAAABGZAAAOFaDGvAAAFAfBAACGZAAAOFaDGvAAAKGZAAAOFaDGvAAAKGZAAAOFaDGvAAAKGZAAAOFaDGvAAAKGZAAANFaEGvAAAJAfBAANFaEGvAAAIAfAAAAGZAAANFaEGvAAAKGZAAAMAGAFaEAfCAAHAfAGZAAAOFaDGvAAABAfAAAHAfAAAOFaDGvAAABAfAAAHGZAAAOFaDGvAAACAfBAAFGZAAAOFaDGvAAAKGZAAANAGAFaDGvAAAKGZAAAOFaDGvAAAKAfAAANAGAFaDGvAAAAAfBAAGAfAGZAAAOFaDAfBAAJGZAAAOFaDGvAAAIAfAAAAGZAAAOFaDGvAAAIAfCAAOFaDAfDAAHGZAAANAGAFaDGvAAAAAfAAAAAfAAAEAfAAAAGZAAANAGAFaDGvAAfAAAIAfBAAOFaDGvAAAKGZAAAFFaMGvAAAKGZAAAOFaDAfEAAGGZAAAOFaDGvAAAAAfAAAAAfBAAEAfBAASGvAAfAAAJGZAAASGvAAAEAfAAAEGZAAASGvAAABAfAAAAAfAAAAAfAAACAfAGZAAASAfCAAAAfBAAFAfAAASGvAAfAAAAAfAAAHGZAAASGvAAAAAfAAAAAfCAAEAfAAASGvAAAFAfAAACAfAGZAAASGvAAAKGZAAASGvAAAKGZAAASFaCAADFaFAASFaDAACFaAFQDGZAAASFaDAACFaEGZAAASFaDAABFaFGZAAASFaDAABFaBAAAFaCGZAAASFaCAACFaDAAAFaAGZAAASFaBAAEFaEGZAAASFaBAAEFaBAABFaAGZAAASFaBAAEFaAAACFaAGZAAASFaBAAEFaEGZAAASFaAAAKGZAAASFaAAAKGZAAASGvAAAKGZAAASGvAAAKGZAAASGvAAAKGZAAASGvAAfBAAAAfAAAGGZAAASAfAAABAfCAAFGZAAASAfAAADAfCAADGZAAASGvAAfAAAAAfAAAHGZAAASGvAAAAAfAAAIGZAAASGvAAABAfCAAFGZAAASGvAAAKGZAAASGvAAAIAfAAAAGZAAASGvAAACAfAAAFAfBAASGvAAABAfAAADAfCAAAGZAAASAfCAAFAfAAABGZAAASGvAAABAfAAAHGZAAASGvAAAKGZAAASGvAAAJAfBAASAfBAAEAfAAABAfAAAAGZAAASGvAAAEAfDAABGZAAASGvAAAFAfAAAAAfAAABAfAAASGvAAAEAfAAABAfCGZAAASGvAAAEAfAAAEGZAAASGvAAAEAfAAAEGZAAASGvAAADAfAAAFGZAAASGvAAAKGZAAASGvAAAHAfAAABGZAAASGvAAAIAfAAAAAfAAASGvAAAIAfBGZAAASAfCAAIGZAAASGvAAABAfAAAHGZAAASGvAAACAfAAAGGZAAASGvAAAKGZAAASGvAAAKGZAAASGvAAAKGZAAASFaAAAKGZAAASFaAAAKGZAAASFaAAAKGZAAASFaAAAKGZAAASFaBAAIFaBAASFaBAAIFaBAASFaBAAIFaBAASFaCAAGFaCAASFaCAAGFaCAASFaCAAFFaDAASFaCAAFFaDAASFaDAAEFaDAASFaDAAEFaDAASFaDAADFaEAASFaMAASFaMAAS|AA6ACAAAeACAAAeACAAAeACAAAeACAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAgAIAAAbAIAAAGAIAAAWAIAAAeAIAAACAIAAAEAIAAAUAIAAACAIAAAEAIAAAUAIAAACAIAAAEAIAAAeAIAAAeAIAAAVAIAAAHAIAAAVAIAAAGAIAAAVAIAAAeAIAAABAIAAAbAIAAABAIAAAcAIAAAeAIAAAeAIAAAhAIAAA/AAEAIAAAeAIAAAeAIAAAAAIAAAUACAAAGAIAAAAAIAAABAIBAAQACAAAGAIAAADAIBAAQACAAAGAIAAADAIBAAQACAAAeACAAAeACAAAeACAAAeACAAAIAIAAAUACAAAeACAAAeACAAAIAIAAAUACAAAIAIAAAUACAAA/AAHAbAAAeAbAAABAIAAAeAIAAAeAIAAAeAIAAAeAIAAA/AA/AAfAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAcAIAAAeAIAAAdAIBAAdAIBAAdAIBAAdAIAAAfAIAAAeAIAAANAIAAANAIAAAOAIAAAOAIAAA/AA/AAiAIAAAeAIAAAeAIAAA/AA/AA/AAzAIAAAeAIAAAeAIAAA/AAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAcAIAAAeAIAAAeAIAAAeAIAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA7AbAAAeAbAAAeAbAAAeAbAAAAAbAAABAbAAAZAbAAAAAbAAABAbAAAbAbAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAPAbAAAeAbAAAHAbAAAVAbAAACAbAAADAbAAAVAbAAACAbAAADAbAAAVAbAAAeAbAAAKAbAAAYAbAAAEAbAAAYAbAAAEAbAAAYAbAAACAbAAAAAbAAAYAbAAACAbAAAeAbAAAeAbAAAeAbAAAuAbAAABAbAAAbAbAAABAbAAAbAbAAABAbAAAbAbAAABAbAAA/AAEARQAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA8AIAAA/AIAAAeAIAAAdAIAAAeAIAAAeAIAAAeAIAAA/AA+AIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAA9AIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAdAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAdAIAAAeAIAAAeAIAAAeAIAAAfAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAAeAIAAA/AA/AA/AA/AAqAbAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAX|AA/AA/AA/AA/AA/AArAqAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAkAAAeAnAAlAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAkADAAAeADAAAcAjAAXAARAAAcAjAAAAADAAAcAjAAAAADAAAcAjAAAAADAAAcAEAAAAADAAAcAEAAAAADAAAcAEAAAAADAAAcADCAAeADAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA1ADBAADADBAAXADAAAEADAAAYAjAAAEADAAAYAjAAAEADAAAYAJAAAEAJAAAYAjFAEFALAAEGALAADAAAeADAAAeADAAAeADAAAeADAAAeADAAAeAJAAAeADAAAeADAAAeADAAAeADAAAeADAAAeADAAAeADAAAeAJAAAeADAAAeADAAAeADAAAeADAAAeADAAAeADAAAdAEAADAAAOAECAjEAEBALAAEEAAPAFAAAJAFAAATAEBAAIADAAAUADAAABADHAASADCAABADAAA/AA/AA/AA/AA/AA/AA/AAoBGAAAeBGAAAfBGAAAeBGBAAeBGAAAcBGAAA/AA/AAeBGAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAlAwAAAAA0AAA/AA/AA/AA/AA/AA/AA/AA/AA/AAfAwAAAAAwAAA/AA/AA/AA/AA/AA/AA/AA3A0AAAAA0AAA/AA/AA/AA/AA/AA/AA/AA/AADAwAAA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA1|ABF6AX;CbBAAR#3a083f,#e22323,0.00,1.00,0.75;BDAGAW;BDBKAa;B/BNAZ;B/BSAY;B/BXAZ;CbAFAX#393563,#7f7f7f,0.00,1.00,0.90;AEAmAa;ATALAS;BBBlAO;B/BeAZ;CbB+AY#442123,#998c65,0.00,1.00,0.70;CbCCAY#5f1f23,#a59258,0.00,1.00,0.75;CaCEAY;CbCMAY#8f2328,#c5a952,0.00,1.00,0.90;CcCLAaAV;BFCNAZ;CaCKAY;CaCQAW;AECNAT;AgCHAS;CaCYAW;CaCaAV;CaCcAU;CaCWAX;CaCWAe;CaCYAd;CaCaAc;AdCZAaAC;CaCcAb;CaChAV;CaCjAU;CaChAe;CaCjAd;AdCiAaAC;CaCtAU;CaCtAe;CaCtAZ;BECzAY;BFC1AY;CbC0AY#3d0f11,#c55252,0.00,1.00,0.90;CbC3AU#3d0f11,#c55252,0.15,1.00,0.90;CbC7AU#3d0f11,#c55252,0.15,1.00,0.90;CbC/AU#3d0f11,#c55252,0.15,1.00,0.90;CbC5AU#3d0f11,#c55252,0.00,1.00,0.90;CbC9AU#3d0f11,#c55252,0.00,1.00,0.90;CbDBAU#3d0f11,#c55252,0.00,1.00,0.90;CbBpAZ#382144,#988b65,0.00,1.00,0.60;BUBmAZ;A5BpAe;ATBpAd;BFB5AX;BDB5AY;CbDYAU#a3282d,#c59552,0.00,1.00,1.00;BBDyAd;A5DpAc;AgDzAd;AMDzAc;AzDiAN;AzDjAN;AzDhAN;AzDkAN;AzDnAJ;AzDoAI;AzDpAI;AzDqAJ;CdDrADAA;BCDsAb;ATDpAb;A5ADAF;A6AVAI;CfAgAE;CfAvAJ;CfAxAE;CfA4AG;CfBCAI;CfBUAG;CbANAD#382144,#988b65,0.00,1.00,0.60;CbBnAI#382144,#988b65,0.00,1.00,0.60;ATBgAJ;AGBNAA;B9BNAB;ATADAE;AxALAM;BUABAC;BCAZAF;ATDwAF;BFDtAc;BBEFAO;BBEYAN;BFEIAe;BUEJAT;BDEHAe;CbEIAf#4c1451,#6f0f0f,0.00,1.00,0.80;BBDFAb;ATDBAb;ATELAQ;CZERAZ;CrEWAc;ATD2AI;BCD2AH;A5D6AI;ATEBAJ;BDD3AI;A6D1AA;AdEAABAC;BeEAAA;AdD1ABAC;A6D2AA;BCEnAE;BUEdAC;CtEaAF;ATEeAD;BFEnAD;BFEnAC;BFEoAC;BFEoAD;BFEoAE;BFEoAF;CcELARAb;CcEfADAb;A5EeAE;CdG4ACAA;ATHHAI;ATEwAa;BEHGAE;BEHGAF;BEHGAG;BEHGAH;BEHGAI;BDExAX;BDEyAX;A5EwAb;CsFFAY;CcE2AYAc;BFEyAY;CbFOAZ#130514,#7e0000,0.00,1.00,0.90;A3E7AV;A6E7AY;BUFRAZ;CbFQAX#0f0810,#4e2f2f,0.00,1.00,0.50;CbFRAX#1d1933,#5f3939,0.00,1.00,0.35;CbFSAX#162135,#6f4a43,0.00,0.95,0.30;CbFTAX#264459,#8f6956,0.00,0.95,0.30;CbFUAX#1a6397,#dbb5a2,0.00,0.95,0.30;BDFSAW;BDFUAW;BDFRAW;BDFXAW;BDFbAW;BDFeAW;BDFgAW;BDFiAW;BDFkAW;BDFlAW;CuFwAa;BEGAAW;BFGAAX;CdFQAYAA;CdFWAYAd;CcD4AFAa;CdAlAWAW;CcAGADAW;CdBpAYAA;AAHHAH;BFE4AW
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DabbleDragon = /** @class */ (function (_super) {
    __extends(DabbleDragon, _super);
    function DabbleDragon() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.height = 48;
        _this.width = 18;
        _this.respectsSolidTiles = true;
        _this.canBeBouncedOn = false;
        _this.anchor = Direction.Down;
        _this.resetX = 0;
        _this.resetY = 0;
        _this.killedByProjectiles = false;
        _this.hurtTimer = 0;
        _this.hits = 0;
        // health bar?
        // limit 1 per map?
        // script:
        // preview for direct:
        // slow pan across watery scene, shipwreck
        // dabble emerges from water
        // "You've been asking..."
        // rain sounds, dark sky
        // "Be careful what you wish for"
        // lightning illuminates dragon shape
        // Roar as cut to black
        // quick show-off of several smaller new features
        // minecart jumping/ducking 1.11.2;12;0;0;0;0;0|#621c33,#242474,0.00,1.00,0.75;AT,#190a00,0,0,0,8,1,0;AT,#190800,0,0,0.2,-4,0,0;AT,#321100,0,0,0.3,-2,1,0;AT,#2d1205,0,0,0.4,0,0,0;#1257eccc;#5e23b8cc;#cf2e16fe|AAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPCAAIAPFAAFAPFAAIAPDAAmAPEAAGAPEAAGAPEAAGAPEAAGAPEAAGAPGAAVAPDAAHAPBAARAPDAAHAPDAAHAPDAFjAAHAPDAAHAPDAAHAPDAAHAPDAA/AA/AA/AA7|AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAP|G4DAAEG4GAAEG4GAAEG4GAAEG4GAAEG4GAAEG4GAAEG4GAAEG4GAAEG4FAAGG4EAAGG4EAAIG4BAA/AA/AA/AAtG4FAFAAAEG4FAFAAAEG4FAFAAA/AA/AAOG4FAAFG4FAAFG4FAAFG4FAAFG4FAAFG4FAAFG4FAAFG4FAAFG4FAA7|AAIAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAA4AiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAA7AiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAAKAiAAA/AA/AA/AA+|AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAP|AAAEAF;ABA4AC;CjAEAH
        // spring ring vertical climb
        // nimby
        // flip platform run   1.11.2;12;0;0;0;0;0|#ff8c18,#ff4cff,0.00,0.70,0.55;AJ,#5eeded,-0.25,0,0.7,-2,1,0;AJ,#5eeded,-0.5,0,0.6,-3,1,0;AJ,#5eeded,-0.75,0,0.8,-5,1,0;AJ,#5eeded,-1,0,0.9,-7,1,0;#1257eccc;#5e23b8cc;#cf2e16fe|AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAP|AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAP|AAsABAAAKABAAAKABAAAKABAAAKABAAA/AA/AA/AA/AA/AA/AA/AA/AA/AAx|AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAP|AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AA/AAP|AAAEAI;ABA3AI;CqAKAIAH;CpAOAF;A0APAC;CqARAGAG;CpAYAH;CpAdAI;AqAbAC;AqAdAD;AqAfAE;CqAhAGAJ;CqAqAEAF
        // giant snowman chase
        // jumbo jelly swim
        // meteors? or just fire trigger section
        // 3d rendered dabble falling from balloon, explosions
        // enemy walking by, then peek out of barrel
        // avatars
        // pig snake
        // giant octopus? 
        // tentacle trigger
        // jellyfish
        // school of fish in the shape of a big fish
        // net to capture enemies and release them elsewhere?
        // seesaw platforms
        //      throw bowling ball on other side, fling up
        // bathysphere-style air bubble
        // apple to eat?
        // bouncy flower platform - makes you spin jump
        // enemy door? Becomes a door once no enemies in range for ~5 seconds
        _this.fireAimAngle = 0;
        _this.fireballCount = 0;
        _this.currentAttackPattern = -1;
        _this.attackTimer = 0;
        _this.backForthCycle = 1;
        _this.swoopDirection = 1;
        _this.heldItem = null;
        // ATTACK PATTERNS
        // 0 - intro roar
        // 1 - Shuffle back and forth
        // 2 - rear back, 
        // 3 -     then spew fire to ground
        // 4 -     then spew fire to sky
        // 5 -     then spew fire to player
        // 6 - squat
        // 7 -     launch into sky
        // 8 - fly across screen
        // 9 - swoop over with item to throw
        // 10- landing, flap
        // 11- dying
        _this.initialized = false;
        _this.OnHitByProjectile = function (enemy, projectile) {
            if (_this.hurtTimer <= 0) {
                _this.hurtTimer = 60;
                projectile.isActive = false;
                _this.hits++;
                if (_this.hits == 2) {
                    _this.DestroyCrackedWalls();
                }
                if (_this.hits >= 3) {
                    _this.currentAttackPattern = 11;
                    _this.attackTimer = 0;
                    _this.damagesPlayer = false;
                    _this.hurtTimer = 6000;
                    audioHandler.PlaySound("dragon-defeat", false);
                }
                else {
                    audioHandler.PlaySound("dragon-roar", false);
                }
            }
        };
        _this.oldFlapFrame = -1;
        return _this;
    }
    DabbleDragon.prototype.Update = function () {
        if (!this.WaitForOnScreen())
            return;
        if (!this.initialized) {
            this.initialized = true;
            audioHandler.PlaySound("dragon-roar", false);
            this.currentAttackPattern = 0;
        }
        if (player) {
            this.direction = (player.xMid < this.xMid ? -1 : 1);
        }
        this.ApplyInertia();
        this.UpdateAttackPattern();
        this.AttackLogic();
        this.ReactToWater();
        this.ReactToVerticalWind();
        if (this.heldItem) {
            if (this.direction == 1) {
                this.heldItem.x = this.x - this.heldItem.width / 2 - 12;
            }
            else {
                this.heldItem.x = this.xRight - this.heldItem.width / 2 + 12;
            }
            this.heldItem.y = this.yBottom - this.heldItem.height - 5;
            this.heldItem.dx = this.dx;
            this.heldItem.dy = this.dy;
            this.heldItem.direction = this.direction;
        }
        if (this.hurtTimer > 0) {
            this.hurtTimer--;
        }
    };
    DabbleDragon.prototype.AttackLogic = function () {
        this.attackTimer++;
        var fireXOffset = 10;
        var fireYOffset = 10;
        var ignoreGravity = false;
        if (this.currentAttackPattern == 1) {
            if (player)
                this.direction = (player.xMid < this.xMid ? -1 : 1);
            this.AccelerateHorizontally(1, this.backForthCycle / 8);
        }
        if (this.currentAttackPattern == 2) {
            if (this.attackTimer == 1) {
                audioHandler.PlaySound("fire-charge-up", false);
            }
            var fireX = (this.direction == -1 ? (this.x - fireXOffset) : (this.xRight + fireXOffset)) - 3;
            var fireY = this.y + fireYOffset;
            if (this.attackTimer % 4 == 0) {
                var fire = new SingleFireBreath(fireX, fireY, this.layer, []);
                fire.dx = Random.random() / 2 - 0.25;
                fire.dy = Random.random() / 2 - 0.25;
                this.layer.sprites.push(fire);
            }
            if (player)
                this.fireAimAngle = Math.atan2(player.yMid - fireY, player.xMid - fireX);
        }
        if (this.currentAttackPattern == 3 || this.currentAttackPattern == 4 || this.currentAttackPattern == 5) {
            if (this.attackTimer == 1) {
                audioHandler.PlaySound("long-fire", false);
            }
        }
        if (this.currentAttackPattern == 3 || this.currentAttackPattern == 4) {
            if (this.currentAttackPattern == 4) {
                // fire rain
                this.fireAimAngle = -Math.PI / 2;
                fireXOffset = 0;
                fireYOffset = 0;
                var freq = 35 - this.hits * 5;
                if (this.attackTimer % freq == 1 && player) {
                    var fire_1 = new FireBall(player.x, player.y - 12 * 12, this.layer, []);
                    fire_1.dx = 0;
                    fire_1.dy = 1.5;
                    this.layer.sprites.push(fire_1);
                }
            }
            var fireSpeed = 2.0;
            var fire = new SingleFireBreath((this.direction == -1 ? (this.x - fireXOffset) : (this.xRight + fireXOffset)) - 3, this.y + fireYOffset, this.layer, []);
            fire.dx = fireSpeed * Math.cos(this.fireAimAngle);
            fire.dy = Random.random() / 2 - 0.25 + fireSpeed * Math.sin(this.fireAimAngle);
            this.layer.sprites.push(fire);
        }
        if (this.currentAttackPattern == 5) {
            // direct shot
            var freq = 50 - this.hits * 5;
            if (this.attackTimer % freq == 1) {
                var fireSpeed = 1.5;
                var fire = new FireBall((this.direction == -1 ? (this.x - fireXOffset) : (this.xRight + fireXOffset)) - 3, this.y + fireYOffset, this.layer, []);
                fire.dx = fireSpeed * Math.cos(this.fireAimAngle);
                fire.dy = fireSpeed * Math.sin(this.fireAimAngle);
                this.layer.sprites.push(fire);
                var fireX = (this.direction == -1 ? (this.x - fireXOffset) : (this.xRight + fireXOffset)) - 3;
                var fireY = this.y + fireYOffset;
                if (player)
                    this.fireAimAngle = Math.atan2(player.yMid - fireY, player.xMid - fireX);
            }
        }
        if (this.currentAttackPattern == 6) {
        }
        if (this.currentAttackPattern == 7) {
            this.AccelerateVertically(0.2, -2);
        }
        if (this.currentAttackPattern == 8) {
            this.dy = 0;
            this.dx = 0;
            ignoreGravity = true;
            if (player && this.attackTimer % 120 == 5 && this.attackTimer < 400) {
                this.swoopDirection *= -1;
                var x = this.swoopDirection == 1 ? (camera.GetLeftCameraEdge() - 130) : (camera.GetRightCameraEdge() + 30);
                var swoop = new DragonSwoop(x, player.y, this.layer, []);
                swoop.pauseTimer = 60 - this.hits * 15;
                this.layer.sprites.push(swoop);
            }
        }
        if (this.currentAttackPattern == 9) {
            ignoreGravity = true;
            if (player) {
                var playerDir = (player.xMid < this.xMid) ? -1 : 1;
                var targetY = this.resetY - 24 + Math.sin(this.attackTimer / 10) * 5;
                var targetYSpeed = (targetY < this.y) ? -1 : 1;
                this.AccelerateHorizontally(0.01, playerDir * 2);
                this.AccelerateVertically(0.05, targetYSpeed);
                this.dy *= 0.98;
                if (this.attackTimer == 240 && this.heldItem) {
                    this.heldItem.dx = playerDir;
                    this.heldItem.dy = 1;
                    this.heldItem = null;
                    audioHandler.PlaySound("throw", false);
                }
            }
        }
        if (this.currentAttackPattern == 10) {
            ignoreGravity = true;
            var targetX = this.resetX;
            var targetY = this.resetY - 24 + Math.sin(this.attackTimer / 10) * 5;
            var targetXSpeed = (targetX < this.x) ? -1 : 1;
            var targetYSpeed = (targetY < this.y) ? -1 : 1;
            this.AccelerateHorizontally(0.05, targetXSpeed);
            this.AccelerateVertically(0.05, targetYSpeed);
            this.dx *= 0.98;
            this.dy *= 0.98;
        }
        if (this.currentAttackPattern == 11) {
            ignoreGravity = true;
            if (this.attackTimer == 1) {
                this.dy = -2;
                this.dx = 0.5;
                this.respectsSolidTiles = false;
                this.OnDead();
            }
            if (this.attackTimer % 3 == 0) {
                var fireX = this.x + Math.random() * this.width - 3;
                var fireY = this.y + Math.random() * this.height - 3;
                var fire = new SingleFireBreath(fireX, fireY, this.layer, []);
                fire.hurtsPlayer = false;
                this.layer.sprites.push(fire);
            }
            if (!this.IsOnScreen()) {
                this.isActive = false;
                camera.shakeTimerY = 25;
            }
            this.AccelerateVertically(0.04, 2);
        }
        if (!ignoreGravity)
            this.ApplyGravity();
    };
    DabbleDragon.prototype.UpdateAttackPattern = function () {
        var newAttackPattern = this.currentAttackPattern;
        if (this.currentAttackPattern == 0 && this.attackTimer > 60) {
            newAttackPattern = 1;
            this.resetX = this.x;
            this.resetY = this.y;
        }
        if (this.currentAttackPattern == 1 && this.attackTimer > 60) {
            newAttackPattern = 2;
            this.dx = 0;
            if (this.fireballCount >= 3) {
                newAttackPattern = 6;
                this.fireballCount = 0;
            }
        }
        if (this.currentAttackPattern == 2 && this.attackTimer > 60) {
            this.fireballCount++;
            newAttackPattern = 3;
            if (player && Math.abs(player.xMid - this.xMid) > 72) {
                newAttackPattern = 5; // direct fire blast
            }
            if (Random.random() < 0.35) {
                newAttackPattern = 4; // air fire blast
            }
        }
        if (this.currentAttackPattern == 3 && this.attackTimer > 60)
            newAttackPattern = 1;
        if (this.currentAttackPattern == 4 && this.attackTimer > 120)
            newAttackPattern = 1;
        if (this.currentAttackPattern == 5 && this.attackTimer > 120)
            newAttackPattern = 1;
        if (this.currentAttackPattern == 6 && this.attackTimer > 96) {
            newAttackPattern = 7;
            for (var i = 0; i < 10; i++) {
                var cloudBit = new CloudBit(this.xMid, this.yBottom, this.layer, []);
                cloudBit.dx = (Math.random() - 0.5) * 3;
                cloudBit.dy = (Math.random() - 0.5) / 1;
                this.layer.sprites.push(cloudBit);
            }
        }
        if (this.currentAttackPattern == 7 && this.attackTimer > 60 && this.yBottom < camera.GetTopCameraEdge()) {
            newAttackPattern = 8;
            this.damagesPlayer = false;
        }
        if (this.currentAttackPattern == 8 && this.attackTimer > 600) {
            newAttackPattern = 9;
            this.damagesPlayer = true;
            var enemyType = Snail;
            var spr = new enemyType(this.x, this.y, this.layer, []);
            this.layer.sprites.push(spr);
            this.heldItem = spr;
        }
        if (this.currentAttackPattern == 9 && this.attackTimer > 260) {
            newAttackPattern = 10;
        }
        if (this.currentAttackPattern == 10 && this.attackTimer > 200) {
            newAttackPattern = 0;
        }
        if (newAttackPattern != this.currentAttackPattern) {
            this.currentAttackPattern = newAttackPattern;
            this.attackTimer = 0;
            if (newAttackPattern == 1) {
                this.backForthCycle *= -1;
            }
        }
    };
    DabbleDragon.prototype.DestroyCrackedWalls = function () {
        var _a;
        var xPixelLeft = camera.GetLeftCameraEdge();
        var xPixelRight = camera.GetRightCameraEdge();
        var yPixelTop = camera.GetTopCameraEdge();
        var yPixelBottom = camera.GetBottomCameraEdge();
        for (var x = xPixelLeft + 1; x < xPixelRight; x += 12) {
            for (var y = yPixelTop + 1; y < yPixelBottom; y += 12) {
                var tile = this.layer.GetTileByPixel(x, y);
                var wireTile = tile.GetWireNeighbor();
                if (wireTile && wireTile.tileType == TileType.Cracks) {
                    (_a = this.layer.map) === null || _a === void 0 ? void 0 : _a.wireLayer.SetTile(tile.tileX, tile.tileY, TileType.Air);
                    this.layer.ExplodeTile(tile);
                }
            }
        }
    };
    DabbleDragon.prototype.GetThumbnail = function () {
        return tiles["body"][0][0];
    };
    DabbleDragon.prototype.GetFrameData = function (frameNum) {
        if (this.currentAttackPattern == -1 && !editorHandler.isInEditMode)
            return [];
        if (this.currentAttackPattern == 8)
            return [];
        var hurtOffset = Math.floor(this.hurtTimer / 4) % 2;
        var flapFrames = [0, 1, 2, 3, 4, 5, 5, 5, 5, 4, 4, 4, 3, 3, 2, 2, 1, 1];
        var flapFrame = flapFrames[(Math.floor(this.age / 4)) % flapFrames.length];
        var backLegVertOffset = 0;
        var frontLegVertOffset = 0;
        var armVertOffset = 0;
        var wingVertOffset = 0;
        var bodyVertOffset = 0;
        var armFrame = 0;
        var bodyFrame = 0;
        var legFrame = 0;
        if (this.currentAttackPattern == 1) {
            backLegVertOffset = (this.attackTimer % 60 < 30 ? 1 : 0);
            frontLegVertOffset = (this.attackTimer % 60 < 30 ? 0 : 1);
            armVertOffset = Math.sin(this.attackTimer / 20) / 2;
            wingVertOffset = -Math.sin(this.attackTimer / 20) / 4;
            flapFrame = 3;
        }
        if (this.currentAttackPattern == 2) {
            armFrame = 1;
        }
        if (this.currentAttackPattern == 4) {
            bodyFrame = 1;
        }
        if (this.currentAttackPattern == 6) {
            bodyFrame = 1;
            legFrame = 1;
            bodyVertOffset = -3;
            armVertOffset = -1;
            wingVertOffset = -3;
        }
        if (this.currentAttackPattern == 7) {
            bodyFrame = 1;
            flapFrame = 6;
            armVertOffset = -2;
            wingVertOffset = -24;
        }
        if (this.currentAttackPattern == 11) {
            flapFrame = 0;
        }
        if (!this.isOnGround) {
            backLegVertOffset = -1;
            frontLegVertOffset = -4;
            legFrame = 2;
        }
        if (this.oldFlapFrame != flapFrame && (flapFrame == 5 || flapFrame == 6)) {
            audioHandler.PlaySound("wing-flap", false);
        }
        this.oldFlapFrame = flapFrame;
        return [
            {
                imageTile: tiles["wings"][hurtOffset][flapFrame],
                xFlip: this.direction == 1,
                yFlip: false,
                xOffset: this.direction == 1 ? 48 : 60,
                yOffset: 37 + wingVertOffset
            },
            {
                imageTile: tiles["legs"][hurtOffset * 2][legFrame],
                xFlip: this.direction == 1,
                yFlip: false,
                xOffset: this.direction == 1 ? -10 : 3,
                yOffset: -28 + backLegVertOffset
            },
            {
                imageTile: tiles["arms"][hurtOffset * 2][armFrame],
                xFlip: this.direction == 1,
                yFlip: false,
                xOffset: this.direction == 1 ? -13 : 6,
                yOffset: -16 + armVertOffset
            },
            {
                imageTile: tiles["body"][hurtOffset][bodyFrame],
                xFlip: this.direction == 1,
                yFlip: false,
                xOffset: this.direction == 1 ? 15 : 10,
                yOffset: 2 + bodyVertOffset
            },
            {
                imageTile: tiles["legs"][hurtOffset * 2 + 1][legFrame],
                xFlip: this.direction == 1,
                yFlip: false,
                xOffset: this.direction == 1 ? -1 : -8,
                yOffset: -28 + frontLegVertOffset
            },
            {
                imageTile: tiles["arms"][hurtOffset * 2 + 1][armFrame],
                xFlip: this.direction == 1,
                yFlip: false,
                xOffset: this.direction == 1 ? 0 : -2,
                yOffset: -16 + armVertOffset
            },
        ];
    };
    return DabbleDragon;
}(Enemy));
var SingleFireBreath = /** @class */ (function (_super) {
    __extends(SingleFireBreath, _super);
    function SingleFireBreath() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.height = 6;
        _this.width = 6;
        _this.respectsSolidTiles = true;
        _this.hurtsPlayer = true;
        _this.flip1 = Math.floor(Random.random() * 4);
        _this.flip2 = Math.floor(Random.random() * 4);
        _this.maxAge = Random.random() * 4 + 30;
        return _this;
    }
    SingleFireBreath.prototype.Update = function () {
        _super.prototype.Update.call(this);
        if (this.age > this.maxAge)
            this.isActive = false;
        this.ApplyInertia();
        if (this.respectsSolidTiles)
            this.ReactToPlatformsAndSolids();
        this.MoveByVelocity();
    };
    SingleFireBreath.prototype.IsHazardActive = function () {
        return this.hurtsPlayer && this.age < this.maxAge - 10;
    };
    SingleFireBreath.prototype.GetFrameData = function (frameNum) {
        var frame = Math.floor(10 * this.age / this.maxAge);
        if (frame >= 10)
            frame = 9;
        return {
            imageTile: tiles["fireBreath"][frame][0],
            xFlip: this.age % this.flip1 == 0,
            yFlip: this.age % this.flip2 == 0,
            xOffset: 3,
            yOffset: 3
        };
    };
    return SingleFireBreath;
}(Hazard));
var FireBall = /** @class */ (function (_super) {
    __extends(FireBall, _super);
    function FireBall() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.height = 6;
        _this.width = 6;
        _this.respectsSolidTiles = true;
        return _this;
    }
    FireBall.prototype.Update = function () {
        this.MoveByVelocity();
        if (this.standingOn.length > 0 || this.touchedLeftWalls.length > 0 || this.touchedRightWalls.length > 0 || this.touchedCeilings.length > 0) {
            this.isActive = false;
        }
        if (this.age % 4 == 0) {
            var fire = new SingleFireBreath(this.x, this.y, this.layer, []);
            fire.dx = Random.random() / 2 - 0.25;
            fire.dy = Random.random() / 2 - 0.25;
            this.layer.sprites.push(fire);
            fire.respectsSolidTiles = false;
            fire.maxAge = 20;
        }
    };
    FireBall.prototype.GetFrameData = function (frameNum) {
        return {
            imageTile: tiles["fireBreath"][3][0],
            xFlip: false,
            yFlip: false,
            xOffset: 3,
            yOffset: 3
        };
    };
    return FireBall;
}(Sprite));
