<html>

<head>
	<title>BRB</title>

	<style>
		* {
			transition-property: all;
			transition-duration: 0.5s;
		}

		html,
		body {
			overflow: hidden;
		}

		body {
			background-color: #92cddb;
			/* background-image: url("https://dobbsworks.github.io/Tools/Streambot/images/wheel-background.png"); */
			/* background-size: cover; */
		}

		.frameContainer {
			height: 900;
			overflow: hidden;
		}

		#clipFrame {
			position: relative;
			top: -100;
			opacity: 1.0;
		}
		#clipTitle {
    		z-index: 2;
			position: absolute;
			left: 10px;
			bottom: 10px;
    		-webkit-text-stroke: 2px black;
    		color: white;
			font-size: 50px;
    		font-weight: 700;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
	</style>
</head>

<body>
	<div class="frameContainer">
		<iframe id="clipFrame" src="" height="1100" width="1600" frameborder="0" scrolling="no"
			allowfullscreen="false"></iframe>
		<div id="clipTitle"></div>
	</div>
</body>
<script type="text/javascript">

	var urlPrefix = "https://clips.twitch.tv/embed?clip=";
	var urlSuffix = "&parent=dobbsworks.github.io";

	// temp1.map(x => ({title: x.node.title, game: x.node.game.name, duration: x.node.durationSeconds, clippedBy: x.node.curator.displayName, slug: x.node.slug}))
	var clips = [
		{ "title": "Two for the count! #Teamshell", "game": "Super Mario Maker 2", "duration": 35, "clippedBy": "peffe29", "slug": "DiligentScrumptiousBibimbapNotATK" },
		{ "title": "The HotChill Zone #TS", "game": "Super Mario Maker 2", "duration": 33, "clippedBy": "peffe29", "slug": "BlitheBreakableDragonfruitDBstyle" },
		{ "title": "Bones Shore #Teamshell", "game": "Super Mario Maker 2", "duration": 30, "clippedBy": "peffe29", "slug": "SteamyCleanShieldDatBoi" },
		{ "title": "Kirbska took over dobbsworks's channel!?", "game": "Super Mario Maker 2", "duration": 40, "clippedBy": "germdove", "slug": "AggressiveJazzyFiddleheadsCorgiDerp" },
		{ "title": "Your 9-hammer can't save you now", "game": "Super Smash Bros. Ultimate", "duration": 19, "clippedBy": "dobbsworks", "slug": "BlitheBoxySeahorseTakeNRG" },
		{ "title": "oh oh eh uh oh woah ey okay okay woah ey buddy ", "game": "Super Mario Maker 2", "duration": 20, "clippedBy": "Ehnu", "slug": "MuddyBoxyPterodactylOneHand" },
		{ "title": "A joke that went all great until someone made it all awkward", "game": "Super Mario Maker 2", "duration": 52, "clippedBy": "germdove", "slug": "HardBenevolentCobblerArgieB8" },
		{ "title": "The divine vine #teamshell", "game": "Super Mario Maker 2", "duration": 43, "clippedBy": "peffe29", "slug": "AttractivePhilanthropicMochaSaltBae" },
		{ "title": "How to kill a server 101 (30 KS)", "game": "Team Fortress 2", "duration": 36, "clippedBy": "dobbsworks", "slug": "FineKnottyCarrotSoBayed" },
		{ "title": "Haaaaaa (insane strats)", "game": "Super Mario Maker 2", "duration": 17, "clippedBy": "peffe29", "slug": "FairNastyJellyfishUncleNox" },
		{ "title": "\"I'm terrified of you sneaking up on me\"", "game": "Team Fortress 2", "duration": 31, "clippedBy": "dobbsworks", "slug": "BusyZanyPepperoniSmoocherZ" },
		{ "title": "Maximus Cheesicus", "game": "Super Mario Maker 2", "duration": 30, "clippedBy": "moloy559", "slug": "MotionlessGiftedYakinikuOSkomodo" },
		{ "title": "germdove mode: activate", "game": "Super Mario Maker 2", "duration": 52, "clippedBy": "germdove", "slug": "UninterestedCulturedLeopardRickroll" },
		{ "title": "Egregious Galoombas", "game": "Super Mario Maker 2", "duration": 26, "clippedBy": "MmmDoggy", "slug": "ProudSeductiveWolverineUnSane" },
		{ "title": "First victory on normal difficulty", "game": "FTL: Faster Than Light", "duration": 25, "clippedBy": "dobbsworks", "slug": "WittyScaryWoodpeckerTebowing" },
		{ "title": "Beetless%", "game": "Super Mario Maker 2", "duration": 59, "clippedBy": "MarioMakerFanGPB", "slug": "PolishedDrabAntDxCat" },
		{ "title": "POG", "game": "Super Mario Maker 2", "duration": 14, "clippedBy": "jadmusic23", "slug": "SeductiveMistyBeanLitFam" },
		{ "title": "oh how they wiggle", "game": "Super Mario Maker 2", "duration": 39, "clippedBy": "Ehnu", "slug": "OpenBovineTomatoMau5" },
	];


	function LoadClip(clip) {
		var clip = GetRandomUnviewed();
		var clipFrame = document.getElementById("clipFrame");
		var clipTitle = document.getElementById("clipTitle");
		clipFrame.src = urlPrefix + clip.slug + urlSuffix;
		clipTitle.innerHTML = clip.title + "<br/>Clipped by: " + clip.clippedBy;
		setTimeout(() => { clipFrame.style.opacity = "1" }, 500);

		setTimeout(() => { clipFrame.style.opacity = "0.1" }, 1000 * clip.duration + 500);
		setTimeout(() => { LoadClip(); }, 1000 * clip.duration + 1000);
	}

	LoadClip();






	function GetRandomUnviewed() {
		let unviewed = clips.filter(x => !x.viewed);
		if (unviewed.length === 0) {
			clips.forEach(x => x.viewed = false);
			unviewed = clips;
		}
		let ret = RandomFrom(unviewed);
		ret.viewed = true;
		return ret;
	}

	function RandomFrom(list) {
		let index = RandomNumber(list.length) - 1;
		return list[index];
	}
	function RandomNumber(min, max) {
		if (max === undefined) {
			max = min;
			min = 1;
		}
		return min + Math.floor(Math.random() * (1 + max - min))
	}

</script>

</html>